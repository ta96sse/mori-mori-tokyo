---
import "../styles/global.css";
import { SITE_TITLE, SITE_DESCRIPTION, GTM_ID } from "../consts";

interface Props {
    title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="ja" class="scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <!-- Google tag (gtag.js) -->
        <script
            is:inline
            async
            src={`https://www.googletagmanager.com/gtag/js?id=${GTM_ID}`}
        ></script>
        <script is:inline define:vars={{ GTM_ID }}>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());
            gtag("config", GTM_ID);
        </script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content={SITE_DESCRIPTION} />
        <link rel="icon" href="/assets/favicon.ico" sizes="any" />
        <link rel="icon" type="image/png" href="/assets/favicon.png" />
        <link rel="apple-touch-icon" href="/assets/favicon.png" />
        <meta name="generator" content={Astro.generator} />
        <title>{title}</title>

        <!-- OGP & Social Tags -->
        <meta property="og:title" content={SITE_TITLE} />
        <meta property="og:description" content={SITE_DESCRIPTION} />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://mori-mori.tokyo" />
        <meta
            property="og:image"
            content="https://mori-mori.tokyo/assets/hero-new.jpg"
        />
        <meta property="og:site_name" content="Mori-Mori TOKYO" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@morimori_tokyo" />

        <!-- Security Headers -->
        <meta name="referrer" content="strict-origin-when-cross-origin" />
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://cdn.tailwindcss.com https://cdn.lightwidget.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https:; font-src 'self' https://fonts.gstatic.com; frame-src https://cdn.lightwidget.com https://www.youtube.com https://www.strava.com; connect-src 'self' https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net;"
        />

        <script type="application/ld+json" is:inline>
            {
                "@context": "https://schema.org",
                "@type": "WebSite",
                "name": "Mori-Mori TOKYO",
                "url": "https://mori-mori.tokyo",
                "logo": "https://mori-mori.tokyo/assets/favicon.png",
                "image": "https://mori-mori.tokyo/assets/hero-new.jpg"
            }
        </script>

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600&family=Zen+Kaku+Gothic+New:wght@400;500;700;900&family=Rubik+Dirt&family=Noto+Serif+JP:wght@400;500;700&display=swap"
            rel="stylesheet"
        />
    </head>
    <body
        class="bg-dark text-white font-body antialiased overflow-x-hidden selection:bg-ivyLight selection:text-black"
    >
        <slot />
    </body>
</html>
